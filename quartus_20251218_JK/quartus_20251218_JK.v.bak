module quartus_20251218_JK(CK, J, K, Q, Qbar);
    input CK, J, K;
    output reg Q, Qbar;  // Declare Q and Qbar as reg because we're assigning them in always block
    
    // Initial state (optional, can be overridden in simulation)
    initial begin
        Q = 1'b1;      // Initial Q state
        Qbar = 1'b0;   // Initial Qbar state
    end
    
    always @(posedge CK) begin
        case ({J, K})
            2'b11: begin  // Toggle condition (J=1, K=1)
                Q <= ~Q;     // Q toggles, Qbar also toggles
                Qbar <= ~Qbar;
            end
            2'b10: begin  // Reset condition (J=1, K=0)
                Q <= 1'b0;   // Q is reset to 0, Qbar is set to 1
                Qbar <= 1'b1;
            end
            2'b01: begin  // Set condition (J=0, K=1)
                Q <= 1'b1;   // Q is set to 1, Qbar is reset to 0
                Qbar <= 1'b0;
            end
            default: begin  // No change for {J,K} == 00
                Q <= Q;      // Hold previous state
                Qbar <= Qbar;
            end
        endcase
    end
endmodule
